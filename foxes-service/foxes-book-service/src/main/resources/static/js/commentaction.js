window.commentAction={reportLoading:false,likeLoading:false,like:function(e,o){if(commentAction.likeLoading)return;commentAction.likeLoading=true;ajaxPostService("/service/likecomment",{commentId:e},function(e,t){commentAction.likeLoading=false;if(t==1){Util.showMsgBox("网络连接异常，请稍后再试");return}if(t==2){Util.showMsgBox("系统错误，请稍后再试");return}if(e.Code==0){Util.showMsgBox("点赞成功");if(typeof o=="function")o()}else{Util.showMsgBox(e.Message)}})},report:function(e,o,t,i){if(!window.hasLogin){window.login();return}if(commentAction.reportLoading)return;var n={title:"举报书评",text:'<ul class="map-menu"><li><label><input type="radio" name="reportreview" value="1">低俗色情</label></li><li style="ma"><label><input type="radio" name="reportreview" value="2">政治敏感</label></li><li><label><input type="radio" name="reportreview" value="4">营销广告</label></li></ul>',btnText:"确认",showCancel:true,check:function(){var e=parseInt($("input[name='reportreview']:checked").val());if(!e||e==0){Util.showMsgBox("请选择举报原因");return false}return true},callback:function(n){commentAction.postReport(e,o,t,n,i)}};commonBox.confirmBox(n)},postReport:function(e,o,t,i,n){var r=parseInt($("input[name='reportreview']:checked").val());commentAction.reportLoading=true;ajaxPostService("/service/reportComment",{commentType:e,commentId:o,reportType:r,reportUserId:t},function(e,o){commentAction.reportLoading=false;if(o==1){Util.showMsgBox("网络连接异常，请稍后再试");return}if(o==2){Util.showMsgBox("系统错误，请稍后再试");return}if(e.Code==0){Util.showMsgBox("举报成功");i();if(typeof n=="function")n()}else{Util.showMsgBox(e.Message);return}})}};